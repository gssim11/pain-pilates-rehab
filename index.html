import React, { useState } from 'react';
import { 
  Brain, 
  Activity, 
  ShieldAlert, 
  Zap, 
  Network, 
  AlertTriangle, 
  Target, 
  Wind, 
  Layers, 
  ArrowRight,
  BookOpen,
  Stethoscope,
  Move
} from 'lucide-react';

const PainScienceInfographic = () => {
  const [activeTab, setActiveTab] = useState('mechanism');

  const scrollToSection = (id) => {
    const element = document.getElementById(id);
    if (element) {
      element.scrollIntoView({ behavior: 'smooth' });
    }
    setActiveTab(id);
  };

  return (
    <div className="min-h-screen bg-slate-50 text-slate-800 font-sans selection:bg-teal-100">
      {/* Navigation */}
      <nav className="sticky top-0 z-50 bg-white/90 backdrop-blur-md border-b border-slate-200 shadow-sm">
        <div className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex justify-between items-center h-16">
            <div className="flex items-center gap-2">
              <Brain className="h-6 w-6 text-teal-600" />
              <span className="font-bold text-lg text-slate-900 tracking-tight">굿얼라인<span className="text-teal-600">재활필라테스</span></span>
            </div>
            <div className="hidden md:flex space-x-8">
              {['mechanism', 'classification', 'neuroplasticity', 'application'].map((item) => (
                <button
                  key={item}
                  onClick={() => scrollToSection(item)}
                  className={`capitalize text-sm font-medium transition-colors ${
                    activeTab === item ? 'text-teal-600' : 'text-slate-500 hover:text-slate-900'
                  }`}
                >
                  {item}
                </button>
              ))}
            </div>
          </div>
        </div>
      </nav>

      {/* Hero Section */}
      <header className="relative bg-gradient-to-br from-slate-900 via-slate-800 to-teal-900 text-white overflow-hidden">
        <div className="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"></div>
        <div className="max-w-6xl mx-auto px-4 py-20 sm:px-6 lg:px-8 relative z-10">
          <div className="max-w-3xl">
            <span className="inline-block px-3 py-1 mb-4 text-xs font-semibold tracking-wider text-teal-300 uppercase bg-teal-900/50 rounded-full border border-teal-700">
              Advanced Course
            </span>
            <h1 className="text-4xl md:text-5xl font-extrabold tracking-tight mb-6 leading-tight">
              통증 과학과 재활 필라테스<br/>
              <span className="text-teal-400">이론과 임상 적용</span>
            </h1>
            <p className="text-lg md:text-xl text-slate-300 mb-8 max-w-2xl leading-relaxed">
              "통증은 조직의 손상 정도를 나타내는 척도가 아니라,<br className="hidden md:block" /> 
              뇌가 판단한 <strong className="text-white font-bold">위협(Threat)</strong>의 수준이다."
            </p>
            <div className="flex flex-wrap gap-4">
              <div className="flex items-center gap-2 bg-white/10 px-4 py-2 rounded-lg backdrop-blur-sm border border-white/10">
                <Brain className="w-5 h-5 text-teal-300" />
                <span className="text-sm font-medium">신경계 조절</span>
              </div>
              <div className="flex items-center gap-2 bg-white/10 px-4 py-2 rounded-lg backdrop-blur-sm border border-white/10">
                <Target className="w-5 h-5 text-teal-300" />
                <span className="text-sm font-medium">겉질 재구성</span>
              </div>
              <div className="flex items-center gap-2 bg-white/10 px-4 py-2 rounded-lg backdrop-blur-sm border border-white/10">
                <Activity className="w-5 h-5 text-teal-300" />
                <span className="text-sm font-medium">탈민감화</span>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main className="max-w-6xl mx-auto px-4 py-12 sm:px-6 lg:px-8 space-y-24">
        
        {/* Section 1: Paradigm Shift & Mechanism */}
        <section id="mechanism" className="scroll-mt-24">
          <div className="text-center mb-12">
            <h2 className="text-3xl font-bold text-slate-900 mb-4">Part 1. 통증의 재정의</h2>
            <p className="text-lg text-slate-600">하드웨어(구조)에서 소프트웨어(신경계)로의 관점 전환</p>
          </div>

          <div className="grid md:grid-cols-2 gap-8 mb-16">
            <div className="bg-white p-8 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow">
              <div className="flex items-center gap-3 mb-6">
                <div className="p-3 bg-slate-100 rounded-lg">
                  <Layers className="w-6 h-6 text-slate-600" />
                </div>
                <h3 className="text-xl font-bold text-slate-800">과거의 관점 (Old)</h3>
              </div>
              <ul className="space-y-3 text-slate-600">
                <li className="flex gap-2"><span className="text-red-500">✕</span> 통증 = 조직 손상 (1:1 관계)</li>
                <li className="flex gap-2"><span className="text-red-500">✕</span> 나쁜 자세가 통증의 원인이다.</li>
                <li className="flex gap-2"><span className="text-red-500">✕</span> 구조적 교정이 유일한 해결책이다.</li>
              </ul>
            </div>
            
            <div className="bg-teal-50 p-8 rounded-2xl shadow-sm border border-teal-100 hover:shadow-md transition-shadow relative overflow-hidden">
              <div className="absolute top-0 right-0 w-32 h-32 bg-teal-100 rounded-full blur-3xl -mr-16 -mt-16"></div>
              <div className="relative z-10">
                <div className="flex items-center gap-3 mb-6">
                  <div className="p-3 bg-teal-100 rounded-lg">
                    <Brain className="w-6 h-6 text-teal-700" />
                  </div>
                  <h3 className="text-xl font-bold text-teal-900">현대의 관점 (New)</h3>
                </div>
                <ul className="space-y-3 text-slate-700">
                  <li className="flex gap-2"><span className="text-teal-600">✓</span> 통증 = 뇌의 위협(Threat) 출력</li>
                  <li className="flex gap-2"><span className="text-teal-600">✓</span> 자세는 보호 반응(Adaptation)이다.</li>
                  <li className="flex gap-2"><span className="text-teal-600">✓</span> 움직임 다양성 회복이 핵심이다.</li>
                </ul>
              </div>
            </div>
          </div>

          <div className="bg-white rounded-2xl p-8 shadow-sm border border-slate-200">
            <h3 className="text-xl font-bold text-slate-800 mb-6 text-center">통증 발생 메커니즘 (Input vs Output)</h3>
            <div className="flex flex-col md:flex-row items-center justify-between gap-6">
              <div className="flex-1 bg-slate-50 p-6 rounded-xl border border-slate-200 w-full">
                <span className="block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2">Input</span>
                <h4 className="font-bold text-lg mb-2 text-slate-700">말초 자극</h4>
                <p className="text-sm text-slate-500">조직 손상, 압박, 허혈, 염증</p>
              </div>
              <ArrowRight className="text-slate-300 w-8 h-8 rotate-90 md:rotate-0" />
              <div className="flex-1 bg-teal-600 p-6 rounded-xl text-white shadow-lg shadow-teal-200 w-full transform md:-translate-y-2">
                <span className="block text-xs font-bold text-teal-200 uppercase tracking-wider mb-2">Processing</span>
                <h4 className="font-bold text-lg mb-2">뇌의 위협 평가</h4>
                <p className="text-sm text-teal-100">과거 경험, 감정, 환경, 신념 종합</p>
              </div>
              <ArrowRight className="text-slate-300 w-8 h-8 rotate-90 md:rotate-0" />
              <div className="flex-1 bg-red-50 p-6 rounded-xl border border-red-100 w-full">
                <span className="block text-xs font-bold text-red-400 uppercase tracking-wider mb-2">Output</span>
                <h4 className="font-bold text-lg mb-2 text-red-700">통증 경험</h4>
                <p className="text-sm text-slate-500">보호 반응(근육 긴장, 회피)</p>
              </div>
            </div>
          </div>
        </section>

        {/* Section 2: Clinical Classification */}
        <section id="classification" className="scroll-mt-24">
          <div className="text-center mb-12">
            <h2 className="text-3xl font-bold text-slate-900 mb-4">Part 2. 통증의 임상적 분류</h2>
            <p className="text-lg text-slate-600">Sluka(2016) 및 IASP 최신 기준에 따른 3가지 분류</p>
          </div>

          <div className="grid lg:grid-cols-3 gap-6">
            {/* Card 1 */}
            <div className="group bg-white rounded-2xl overflow-hidden border border-slate-200 hover:border-teal-500 transition-all duration-300 hover:shadow-xl">
              <div className="bg-slate-50 p-6 border-b border-slate-100 group-hover:bg-teal-50 transition-colors">
                <div className="w-12 h-12 bg-white rounded-xl shadow-sm flex items-center justify-center mb-4 text-teal-600 group-hover:scale-110 transition-transform">
                  <Activity />
                </div>
                <h3 className="text-xl font-bold text-slate-800">침해성 통증</h3>
                <p className="text-sm text-slate-500 font-medium">Nociceptive Pain</p>
              </div>
              <div className="p-6 space-y-4">
                <div>
                  <h4 className="text-xs font-bold text-slate-400 uppercase mb-2">특징</h4>
                  <p className="text-sm text-slate-600 leading-relaxed">명확한 조직 손상/염증. 움직임과 통증의 관계가 일관됨.</p>
                </div>
                <div>
                  <h4 className="text-xs font-bold text-slate-400 uppercase mb-2">필라테스 전략</h4>
                  <ul className="text-sm text-slate-700 space-y-1">
                    <li className="flex items-start gap-2">
                      <span className="text-teal-500 mt-1">•</span> 부하 조절 (Load Management)
                    </li>
                    <li className="flex items-start gap-2">
                      <span className="text-teal-500 mt-1">•</span> 순환 증진 운동
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            {/* Card 2 */}
            <div className="group bg-white rounded-2xl overflow-hidden border border-slate-200 hover:border-blue-500 transition-all duration-300 hover:shadow-xl">
              <div className="bg-slate-50 p-6 border-b border-slate-100 group-hover:bg-blue-50 transition-colors">
                <div className="w-12 h-12 bg-white rounded-xl shadow-sm flex items-center justify-center mb-4 text-blue-600 group-hover:scale-110 transition-transform">
                  <Zap />
                </div>
                <h3 className="text-xl font-bold text-slate-800">신경병증성 통증</h3>
                <p className="text-sm text-slate-500 font-medium">Neuropathic Pain</p>
              </div>
              <div className="p-6 space-y-4">
                <div>
                  <h4 className="text-xs font-bold text-slate-400 uppercase mb-2">특징</h4>
                  <p className="text-sm text-slate-600 leading-relaxed">신경계 병변(디스크, 포착 등). 타는 듯하거나 찌릿한 느낌.</p>
                </div>
                <div>
                  <h4 className="text-xs font-bold text-slate-400 uppercase mb-2">필라테스 전략</h4>
                  <ul className="text-sm text-slate-700 space-y-1">
                    <li className="flex items-start gap-2">
                      <span className="text-blue-500 mt-1">•</span> 신경 가동술 (Neurodynamics)
                    </li>
                    <li className="flex items-start gap-2">
                      <span className="text-blue-500 mt-1">•</span> 공간 확보 (Space-making)
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            {/* Card 3 */}
            <div className="group bg-white rounded-2xl overflow-hidden border border-slate-200 hover:border-purple-500 transition-all duration-300 hover:shadow-xl">
              <div className="bg-slate-50 p-6 border-b border-slate-100 group-hover:bg-purple-50 transition-colors">
                <div className="w-12 h-12 bg-white rounded-xl shadow-sm flex items-center justify-center mb-4 text-purple-600 group-hover:scale-110 transition-transform">
                  <Network />
                </div>
                <h3 className="text-xl font-bold text-slate-800">통증조절부전</h3>
                <p className="text-sm text-slate-500 font-medium">Nociplastic Pain</p>
              </div>
              <div className="p-6 space-y-4">
                <div>
                  <h4 className="text-xs font-bold text-slate-400 uppercase mb-2">특징</h4>
                  <p className="text-sm text-slate-600 leading-relaxed">조직 손상 불명확. 통증 과민(이질통). 피로/수면장애 동반.</p>
                </div>
                <div>
                  <h4 className="text-xs font-bold text-slate-400 uppercase mb-2">필라테스 전략</h4>
                  <ul className="text-sm text-slate-700 space-y-1">
                    <li className="flex items-start gap-2">
                      <span className="text-purple-500 mt-1">•</span> 탈민감화 (Desensitization)
                    </li>
                    <li className="flex items-start gap-2">
                      <span className="text-purple-500 mt-1">•</span> 뇌 재학습 (Re-learning)
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </section>

        {/* Section 3: Neuroplasticity & Mechanism */}
        <section id="neuroplasticity" className="scroll-mt-24">
          <div className="flex flex-col lg:flex-row gap-12">
            <div className="lg:w-1/2 space-y-6">
              <h2 className="text-3xl font-bold text-slate-900">Part 3. 신경계의 변화와 조절</h2>
              <p className="text-slate-600 leading-relaxed">
                만성 통증은 <span className="font-bold text-slate-900">말초 민감화</span>와 <span className="font-bold text-slate-900">중추 민감화</span>의 결과입니다.
                필라테스는 약물 없는 천연 진통제로서 신경계를 조절합니다.
              </p>
              
              <div className="space-y-4 mt-6">
                <div className="bg-white p-5 rounded-xl border border-slate-200 flex gap-4 items-start">
                  <div className="p-2 bg-red-50 rounded-lg shrink-0">
                    <Wind className="w-6 h-6 text-red-500" />
                  </div>
                  <div>
                    <h3 className="font-bold text-slate-800">윈드업 현상 (Wind-up)</h3>
                    <p className="text-sm text-slate-600 mt-1">척수 뒤뿔(Dorsal Horn)에서 자극이 누적되어 신호가 증폭됨.</p>
                  </div>
                </div>
                
                <div className="bg-white p-5 rounded-xl border border-slate-200 flex gap-4 items-start">
                  <div className="p-2 bg-purple-50 rounded-lg shrink-0">
                    <Layers className="w-6 h-6 text-purple-500" />
                  </div>
                  <div>
                    <h3 className="font-bold text-slate-800">대뇌 겉질 스머징 (Smudging)</h3>
                    <p className="text-sm text-slate-600 mt-1">뇌의 신체 지도가 흐릿해져 개별 근육 조절 능력이 저하됨.</p>
                  </div>
                </div>
              </div>
            </div>

            <div className="lg:w-1/2 bg-slate-900 text-white rounded-2xl p-8 shadow-2xl relative overflow-hidden">
              <div className="absolute top-0 right-0 w-64 h-64 bg-teal-600 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse"></div>
              <h3 className="text-xl font-bold mb-6 flex items-center gap-2">
                <ShieldAlert className="text-teal-400" /> 필라테스 통증 조절 기전
              </h3>
              
              <div className="space-y-6 relative z-10">
                <div className="border-l-2 border-teal-500 pl-6 py-1">
                  <h4 className="font-bold text-teal-300 mb-1">운동 유발성 통증 감소 (EIH)</h4>
                  <p className="text-sm text-slate-300">내인성 아편유사제 분비 촉진. 등척성 운동으로 위협 신호 감소.</p>
                </div>
                <div className="border-l-2 border-teal-500/50 pl-6 py-1">
                  <h4 className="font-bold text-teal-300 mb-1">관문 조절설 (Gate Control)</h4>
                  <p className="text-sm text-slate-300">스프링 저항과 스트랩이 주는 고유수용감각이 척수에서 통증 신호를 차단.</p>
                </div>
                <div className="border-l-2 border-teal-500/30 pl-6 py-1">
                  <h4 className="font-bold text-teal-300 mb-1">겉질 재구성 (Remapping)</h4>
                  <p className="text-sm text-slate-300">정밀한 움직임(Precision)이 흐릿해진 뇌 지도를 다시 선명하게 함.</p>
                </div>
              </div>
            </div>
          </div>
        </section>

        {/* Section 4: Clinical Application */}
        <section id="application" className="scroll-mt-24">
          <div className="text-center mb-12">
            <h2 className="text-3xl font-bold text-slate-900 mb-4">Part 4. 임상 적용 및 중재</h2>
            <p className="text-lg text-slate-600">안전성 선별 검사(Screening)와 단계별 접근</p>
          </div>

          <div className="grid md:grid-cols-2 gap-8 mb-16">
            <div className="bg-red-50 rounded-2xl p-6 border border-red-100">
              <div className="flex items-center gap-2 mb-4 text-red-700">
                <AlertTriangle className="fill-red-100" />
                <h3 className="font-bold text-lg">Red Flags (즉시 의뢰)</h3>
              </div>
              <ul className="space-y-2 text-sm text-red-800/80">
                <li>• 움직임과 무관한 통증 (야간 통증)</li>
                <li>• 원인 불명의 급격한 체중 감소</li>
                <li>• 말꼬리증후군 (대소변 장애, 항문주위 감각저하)</li>
              </ul>
            </div>

            <div className="bg-yellow-50 rounded-2xl p-6 border border-yellow-100">
              <div className="flex items-center gap-2 mb-4 text-yellow-700">
                <AlertTriangle className="fill-yellow-100" />
                <h3 className="font-bold text-lg">Yellow Flags (인지 중재)</h3>
              </div>
              <ul className="space-y-2 text-sm text-yellow-800/80">
                <li>• <strong>움직임 공포증 (Kinesiophobia)</strong></li>
                <li>• 재앙화 사고 ("내 몸은 망가졌어")</li>
                <li>• 부정적인 믿음과 회피 반응</li>
              </ul>
            </div>
          </div>

          <div className="relative">
            <div className="absolute top-0 bottom-0 left-6 md:left-1/2 w-0.5 bg-slate-200"></div>
            
            <div className="space-y-12">
              {/* Step 1 */}
              <div className="relative flex flex-col md:flex-row items-center justify-between group">
                <div className="ml-12 md:ml-0 md:w-[45%] bg-white p-6 rounded-xl border border-slate-200 shadow-sm md:text-right">
                  <h4 className="text-teal-600 font-bold mb-1 uppercase text-sm tracking-wider">Step 1</h4>
                  <h3 className="text-xl font-bold text-slate-800 mb-2">탈민감화 (Desensitization)</h3>
                  <p className="text-slate-600 text-sm">호흡을 통한 교감신경 진정, 넓은 기저면 확보, 통증 없는 범위 내 작은 움직임.</p>
                </div>
                <div className="absolute left-6 md:left-1/2 -translate-x-1/2 w-12 h-12 bg-teal-600 rounded-full border-4 border-white shadow flex items-center justify-center text-white font-bold z-10">1</div>
                <div className="hidden md:block md:w-[45%]"></div>
              </div>

              {/* Step 2 */}
              <div className="relative flex flex-col md:flex-row items-center justify-between group">
                <div className="hidden md:block md:w-[45%]"></div>
                <div className="absolute left-6 md:left-1/2 -translate-x-1/2 w-12 h-12 bg-white rounded-full border-4 border-teal-600 shadow flex items-center justify-center text-teal-600 font-bold z-10">2</div>
                <div className="ml-12 md:ml-0 md:w-[45%] bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                  <h4 className="text-teal-600 font-bold mb-1 uppercase text-sm tracking-wider">Step 2</h4>
                  <h3 className="text-xl font-bold text-slate-800 mb-2">노출 및 재학습 (Exposure)</h3>
                  <p className="text-slate-600 text-sm">엉덩관절/척추 분절 움직임(Dissociation). 두려워하던 동작에 대한 점진적 노출(Graded Exposure).</p>
                </div>
              </div>

              {/* Step 3 */}
              <div className="relative flex flex-col md:flex-row items-center justify-between group">
                <div className="ml-12 md:ml-0 md:w-[45%] bg-white p-6 rounded-xl border border-slate-200 shadow-sm md:text-right">
                  <h4 className="text-teal-600 font-bold mb-1 uppercase text-sm tracking-wider">Step 3</h4>
                  <h3 className="text-xl font-bold text-slate-800 mb-2">기능적 통합 (Integration)</h3>
                  <p className="text-slate-600 text-sm">불안정한 지지면(폼롤러 등) 활용. 속도와 부하의 점진적 증가로 적응력 강화.</p>
                </div>
                <div className="absolute left-6 md:left-1/2 -translate-x-1/2 w-12 h-12 bg-white rounded-full border-4 border-teal-600 shadow flex items-center justify-center text-teal-600 font-bold z-10">3</div>
                <div className="hidden md:block md:w-[45%]"></div>
              </div>
            </div>
          </div>
        </section>

      </main>

      {/* Footer / References */}
      <footer className="bg-slate-50 border-t border-slate-200 py-12 mt-24">
        <div className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
          <div className="flex items-center gap-2 mb-6">
            <BookOpen className="w-5 h-5 text-slate-400" />
            <h3 className="font-bold text-slate-700">참고 문헌 (References)</h3>
          </div>
          <div className="grid md:grid-cols-2 gap-x-8 gap-y-2 text-xs text-slate-500 font-mono">
            <p>[1] Butler, D. S., & Moseley, G. L. (2013). Explain Pain (2nd ed.). Noigroup Publications.</p>
            <p>[2] Sluka, K. A. (2016). Mechanisms and Management of Pain for the Physical Therapist (2nd ed.). Wolters Kluwer.</p>
            <p>[3] International Association for the Study of Pain (IASP). (2017). IASP Terminology: Nociplastic Pain.</p>
            <p>[4] Kosek, E., et al. (2021). Chronic nociplastic pain affecting the musculoskeletal system. Pain, 162(11).</p>
            <p>[5] Moseley, G. L., & Flor, H. (2012). Targeting cortical representations in the treatment of chronic pain. Neurorehabilitation.</p>
            <p>[6] Hodges, P. W. (2011). Pain and motor control: From the laboratory to rehabilitation. JEK.</p>
            <p>[7] Brinjikji, W., et al. (2015). Systematic literature review of imaging features... AJNR.</p>
            <p>[8] Rice, D., et al. (2019). Exercise-Induced Hypoalgesia... The Journal of Pain.</p>
          </div>
        </div>
      </footer>
    </div>
  );
};

export default PainScienceInfographic;